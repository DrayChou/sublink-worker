#:schema node_modules/wrangler/config-schema.json
name = "sublink-worker"
main = "src/index.js"
compatibility_date = "2025-01-15"
compatibility_flags = ["nodejs_compat"]

kv_namespaces = [
  { binding = "SUBLINK_KV", id = "8943789ed0af49659f887fc740d11240" }
]

# D1 Database for subscription caching
[[d1_databases]]
binding = "SUBSCRIPTION_DB"
database_name = "subscription-db"
database_id = "3292c97a-9d2f-40a3-bad9-cab00b460061"

# Enable logging for debugging
[observability]
logs = { enabled = true, invocation_logs = true }
